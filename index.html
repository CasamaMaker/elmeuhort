<!-- <!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <title>La meva PWA</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2b2b2b">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
</head>
<body>
  <h1>Funciona GitHub Pages</h1>
  <script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./service-worker.js');
  }
  </script>
</body>
</html> -->



<!-- <!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <link rel="manifest" href="manifest.json">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <title>el Meu Hort</title>
  <style>
      body {
          font-family: Arial, sans-serif;
          margin: 0;
          padding: 0;
          background: #f4f4f4;
      }

      .tabs {
          display: flex;
          flex-wrap: wrap;
          background: #2c3e50;
      }

      .tabs button {
          flex: 1 0 14.28%;
          padding: 10px;
          background: #34495e;
          color: white;
          border: none;
          cursor: pointer;
          transition: background 0.3s;
      }

      .tabs button:hover {
          background: #1abc9c;
      }

      .tabs button.active {
          background: #1abc9c;
      }

      .tab-content {
          padding: 20px;
          background: white;
          min-height: 200px;
      }

      .action-section {
          margin-top: 15px;
      }

      .action-section h3 {
          margin-bottom: 5px;
          color: #2c3e50;
      }

      .action-section ul {
          list-style: none;
          padding-left: 0;
      }

      .action-section li {
          background: #ecf0f1;
          margin-bottom: 5px;
          padding: 5px 10px;
          border-radius: 4px;
      }
  </style>
</head>
<body>

<div class="tabs" id="tabs"></div>
<div id="tab-contents"></div>

<script>
const SHEET_ID = "1VmQdVqhokSYiHTfNNg7z4v4fLPePhAD53za76YBJnhg";
const SHEET_NAME = "Full1"; // nom de la fulla
const URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?sheet=${SHEET_NAME}&tq=&tqx=out:json`;

let mesos = ["Gener","Febrer","Mar√ß","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"];

fetch(URL)
  .then(res => res.text())
  .then(data => {
    const json = JSON.parse(data.substring(47, data.length-2));
    const rows = json.table.rows.map(r => r.c.map(c => c ? c.v : ""));

    // Generar botons dels mesos
    const tabsDiv = document.getElementById("tabs");
    mesos.forEach((mes, idx) => {
        const btn = document.createElement("button");
        btn.className = "tab-link";
        if(idx===0) btn.classList.add("active");
        btn.innerText = mes;
        btn.onclick = (e) => openMonth(e, mes);
        tabsDiv.appendChild(btn);
    });

    // Generar contingut dels mesos amb subapartats per acci√≥
    const contentDiv = document.getElementById("tab-contents");
    mesos.forEach((mes, idx) => {
        const div = document.createElement("div");
        div.id = mes;
        div.className = "tab-content";
        if(idx!==0) div.style.display = "none";

        const mesRows = rows.filter(r => r[1] === mes);
        const accions = [...new Set(mesRows.map(r => r[3]))]; // llista √∫nica d'accions

        let html = `<h2>${mes}</h2>`;
        accions.forEach(accio => {
            html += `<div class="action-section"><h3>${accio}</h3><ul>`;
            mesRows.filter(r => r[3] === accio).forEach(r => {
                html += `<li><strong>${r[0]}</strong> - Lluna: ${r[2]}, Tipus: ${r[4]}, Notes: ${r[5]}</li>`;
            });
            html += `</ul></div>`;
        });

        div.innerHTML = html;
        contentDiv.appendChild(div);
    });
  })
  .catch(err => console.error("Error carregant Google Sheet:", err));

function openMonth(evt, monthName) {
    const tabcontent = document.getElementsByClassName("tab-content");
    for (let i = 0; i < tabcontent.length; i++) tabcontent[i].style.display = "none";

    const tablinks = document.getElementsByClassName("tab-link");
    for (let i = 0; i < tablinks.length; i++) tablinks[i].classList.remove("active");

    document.getElementById(monthName).style.display = "block";
    evt.currentTarget.classList.add("active");
}
</script>

</body>
</html> -->














<!DOCTYPE html>
<html lang="ca">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üå± el Meu Hort</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      color: white;
      margin-bottom: 30px;
    }
    
    .header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }
    
    .header p {
      font-size: 1.1em;
      opacity: 0.9;
    }
    
    .tabs-container {
      background: white;
      border-radius: 20px 20px 0 0;
      overflow-x: auto;
      box-shadow: 0 -5px 20px rgba(0,0,0,0.1);
    }
    
    .tabs {
      display: flex;
      background: white;
      padding: 10px;
      min-width: min-content;
    }
    
    .tabs button {
      padding: 12px 24px;
      background: #f0f0f0;
      color: #555;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 1em;
      font-weight: 600;
      margin: 0 5px;
      white-space: nowrap;
    }
    
    .tabs button:hover {
      background: #e0e0e0;
      transform: translateY(-2px);
    }
    
    .tabs button.active {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
    }
    
    .content-container {
      background: white;
      border-radius: 0 0 20px 20px;
      padding: 30px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.1);
      min-height: 400px;
    }
    
    .tab-content {
      display: none;
      animation: fadeIn 0.4s;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .month-title {
      font-size: 2em;
      color: #667eea;
      margin-bottom: 25px;
      display: flex;
      align-items: center;
      gap: 15px;
    }
    
    .action-section {
      margin-bottom: 30px;
    }
    
    .action-header {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.4em;
      color: #333;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 3px solid #667eea;
    }
    
    .action-icon {
      font-size: 1.3em;
    }
    
    .cards-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .plant-card {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      transition: all 0.3s;
      border-left: 5px solid #667eea;
    }
    
    .plant-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .plant-name {
      font-size: 1.3em;
      font-weight: bold;
      color: #333;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .info-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 10px;
    }
    
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 0.85em;
      font-weight: 600;
      background: white;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    
    .badge-moon {
      background: #ffd93d;
      color: #333;
    }
    
    .badge-type {
      background: #6bcf7f;
      color: white;
    }
    
    .notes {
      margin-top: 12px;
      padding: 10px;
      background: rgba(255,255,255,0.7);
      border-radius: 8px;
      font-size: 0.9em;
      color: #555;
      line-height: 1.5;
    }
    
    .loading {
      text-align: center;
      padding: 50px;
      font-size: 1.2em;
      color: #667eea;
    }
    
    .empty-state {
      text-align: center;
      padding: 50px;
      color: #999;
    }
    
    @media (max-width: 768px) {
      .header h1 {
        font-size: 2em;
      }
      
      .tabs button {
        padding: 10px 16px;
        font-size: 0.9em;
      }
      
      .content-container {
        padding: 20px;
      }
      
      .cards-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üå± el Meu Hort</h1>
      <p>Planifica i organitza les teves tasques de l'hort mes a mes</p>
    </div>
    
    <div class="tabs-container">
      <div class="tabs" id="tabs"></div>
    </div>
    
    <div class="content-container">
      <div class="loading" id="loading">‚è≥ Carregant informaci√≥ de l'hort...</div>
      <div id="tab-contents"></div>
    </div>
  </div>

  <script>
    const SHEET_ID = "1VmQdVqhokSYiHTfNNg7z4v4fLPePhAD53za76YBJnhg";
    const SHEET_NAME = "Full1";
    const URL = `https://docs.google.com/spreadsheets/d/${SHEET_ID}/gviz/tq?sheet=${SHEET_NAME}&tqx=out:json`;
    
    const mesos = [
      { nom: "Gener", emoji: "‚ùÑÔ∏è" },
      { nom: "Febrer", emoji: "üå®Ô∏è" },
      { nom: "Mar√ß", emoji: "üå∏" },
      { nom: "Abril", emoji: "üå∑" },
      { nom: "Maig", emoji: "üå∫" },
      { nom: "Juny", emoji: "‚òÄÔ∏è" },
      { nom: "Juliol", emoji: "üåª" },
      { nom: "Agost", emoji: "üçÖ" },
      { nom: "Setembre", emoji: "üçÇ" },
      { nom: "Octubre", emoji: "üçÅ" },
      { nom: "Novembre", emoji: "üå∞" },
      { nom: "Desembre", emoji: "üéÑ" }
    ];
    
    const accionIcons = {
      "Sembrar": "üå±",
      "Plantar": "ü™¥",
      "Collir": "üß∫",
      "Trasplantar": "üåø",
      "Cuidar": "üíö",
      "Podar": "‚úÇÔ∏è",
      "Adobar": "üåæ"
    };
    
    function getActionIcon(accio) {
      for (let key in accionIcons) {
        if (accio.toLowerCase().includes(key.toLowerCase())) {
          return accionIcons[key];
        }
      }
      return "üìã";
    }
    
    fetch(URL)
      .then(res => res.text())
      .then(data => {
        const json = JSON.parse(data.substring(47, data.length - 2));
        const rows = json.table.rows.map(r => r.c.map(c => c ? c.v : ""));
        
        document.getElementById("loading").style.display = "none";
        
        // Generar botons dels mesos
        const tabsDiv = document.getElementById("tabs");
        mesos.forEach((mes, idx) => {
          const btn = document.createElement("button");
          btn.className = "tab-link";
          if (idx === 0) btn.classList.add("active");
          btn.innerHTML = `${mes.emoji} ${mes.nom}`;
          btn.onclick = (e) => openMonth(e, mes.nom);
          tabsDiv.appendChild(btn);
        });
        
        // Generar contingut dels mesos
        const contentDiv = document.getElementById("tab-contents");
        mesos.forEach((mes, idx) => {
          const div = document.createElement("div");
          div.id = mes.nom;
          div.className = "tab-content";
          if (idx === 0) div.style.display = "block";
          
          const mesRows = rows.filter(r => r[1] === mes.nom);
          
          if (mesRows.length === 0) {
            div.innerHTML = `
              <div class="month-title">${mes.emoji} ${mes.nom}</div>
              <div class="empty-state">
                <p>üì≠ No hi ha tasques programades per aquest mes</p>
              </div>
            `;
          } else {
            const accions = [...new Set(mesRows.map(r => r[3]))];
            
            let html = `<div class="month-title">${mes.emoji} ${mes.nom}</div>`;
            
            accions.forEach(accio => {
              const icon = getActionIcon(accio);
              html += `
                <div class="action-section">
                  <div class="action-header">
                    <span class="action-icon">${icon}</span>
                    <span>${accio}</span>
                  </div>
                  <div class="cards-grid">
              `;
              
              mesRows.filter(r => r[3] === accio).forEach(r => {
                const planta = r[0] || "Sense nom";
                const lluna = r[2] || "‚Äî";
                const tipus = r[4] || "‚Äî";
                const notes = r[5] || "Sense notes addicionals";
                
                html += `
                  <div class="plant-card">
                    <div class="plant-name">
                      üåø ${planta}
                    </div>
                    <div class="info-row">
                      <span class="badge badge-moon">üåô ${lluna}</span>
                      <span class="badge badge-type">üè∑Ô∏è ${tipus}</span>
                    </div>
                    <div class="notes">üí° ${notes}</div>
                  </div>
                `;
              });
              
              html += `</div></div>`;
            });
            
            div.innerHTML = html;
          }
          
          contentDiv.appendChild(div);
        });
      })
      .catch(err => {
        document.getElementById("loading").innerHTML = "‚ùå Error carregant les dades. Comprova la connexi√≥.";
        console.error("Error:", err);
      });
    
    function openMonth(evt, monthName) {
      const tabcontent = document.getElementsByClassName("tab-content");
      for (let i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
      }
      
      const tablinks = document.getElementsByClassName("tab-link");
      for (let i = 0; i < tablinks.length; i++) {
        tablinks[i].classList.remove("active");
      }
      
      document.getElementById(monthName).style.display = "block";
      evt.currentTarget.classList.add("active");
    }
  </script>
</body>
</html>